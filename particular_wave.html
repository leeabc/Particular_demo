<html>
<head>
	<script src="./vector.js"></script>
	<script src="./particle.js"></script>
	<script src="./particle_system.js"></script>
</head>
<body>
	<canvas id="example" width="500" height="500"></canvas>
</body>

<script>
	var canvas = document.getElementById("example");
	var contex = canvas.getContext("2d");

	var ps = new ParticleSystem();
	var dt = 0.01;
	var timer = 0;

	var draw = function(){
		//var theta = Math.random() * Math.PI * 2; //360
		var position = new Vector(5,150);
		var velocity = new Vector(0,0);
		var gravity = new Vector(0,0);
		var life = 10;
		var color = "rgba(0,0,0,1)";
		var size = 5;

		timer++;

		//clear canvas
		contex.clearRect(0, 0, canvas.width, canvas.height);

		ps.addParticle(new Particle(position, velocity, gravity, life, color, size));
		ps.removeParticle(dt);
		ps.applyWave(timer, 50);
		ps.render(contex);
		ps.renderWave(contex, 5, color, canvas.height);

		requestAnimationFrame(draw);
	};

	draw(contex);

</script>

</html>